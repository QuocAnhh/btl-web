<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hồ Sơ Nguyện Vọng Ảo</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Màu nền nhẹ nhàng */
            margin: 0;
            padding: 40px 16px; /* py-10 px-4 */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
        }

        .container {
            max-width: 960px; /* max-w-4xl */
            width: 100%;
        }

        .main-title {
            font-size: 3rem; /* text-4xl */
            font-weight: 800; /* font-extrabold */
            text-align: center;
            color: #1a202c; /* gray-900 */
            margin-bottom: 40px; /* mb-10 */
        }

        .card {
            background-color: white;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-lg */
            padding: 1.5rem; /* p-6 */
            margin-bottom: 1rem; /* mb-4 */
        }

        .section-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 700; /* font-bold */
            color: #2d3748; /* gray-800 */
            margin-bottom: 1.5rem; /* mb-6 */
        }

        .form-group {
            margin-bottom: 1.5rem; /* space-y-6 equivalent for form elements */
        }

        .form-label {
            display: block;
            font-size: 0.875rem; /* text-sm */
            font-weight: 500; /* font-medium */
            color: #4a5568; /* gray-700 */
            margin-bottom: 0.5rem; /* mb-2 */
        }

        input[type="text"], textarea {
            border: 1px solid #d1d5db; /* gray-300 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 0.75rem 1rem; /* py-3 px-4 */
            width: 100%;
            box-sizing: border-box; /* Đảm bảo padding không làm tăng chiều rộng */
            font-size: 0.875rem; /* sm:text-sm */
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); /* shadow-sm */
        }

        input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: #6366f1; /* indigo-500 */
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2); /* ring-2 ring-indigo-500 */
        }

        .btn-primary {
            background-color: #4f46e5; /* indigo-600 */
            color: white;
            padding: 0.75rem 1.5rem; /* py-3 px-6 */
            border-radius: 0.5rem; /* rounded-lg */
            font-weight: 600; /* font-semibold */
            transition: background-color 0.3s ease;
            width: 100%; /* w-full */
            border: none;
            cursor: pointer;
        }
        .btn-primary:hover {
            background-color: #4338ca; /* indigo-700 */
        }

        .aspiration-item {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: flex-start;
            padding: 1rem; /* p-4 */
            background: linear-gradient(to bottom right, #e0f2fe, #e0e7ff); 
            border: 1px solid #c7d2fe;
            border-radius: 0.75rem; 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); 
            margin-bottom: 1rem; /* space-y-4 equivalent */
        }

        @media (min-width: 640px) { /* sm breakpoint */
            .aspiration-item {
                flex-direction: row;
                align-items: center;
            }
            .aspiration-content {
                margin-bottom: 0; /* sm:mb-0 */
            }
        }

        .aspiration-content {
            flex-grow: 1;
            margin-bottom: 1rem; /* mb-4 */
        }

        .aspiration-title {
            font-size: 1.25rem; /* text-xl */
            font-weight: 600; /* font-semibold */
            color: #4338ca; /* indigo-700 */
        }

        .aspiration-description {
            color: #4a5568; /* gray-600 */
            margin-top: 0.25rem; /* mt-1 */
        }

        .aspiration-category {
            font-size: 0.875rem; /* text-sm */
            color: #6b7280; /* gray-500 */
            margin-top: 0.5rem; /* mt-2 */
        }

        .aspiration-category span {
            font-weight: 500; /* font-medium */
            color: #4f46e5; /* indigo-600 */
        }

        .btn-delete {
            background-color: #ef4444; /* red-500 */
            color: white;
            padding: 0.5rem 1rem; /* py-2 px-4 */
            border-radius: 0.5rem; /* rounded-md */
            font-weight: 500; /* font-medium */
            transition: background-color 0.3s ease;
            border: none;
            cursor: pointer;
            flex-shrink: 0;
        }
        .btn-delete:hover {
            background-color: #dc2626; /* red-600 */
        }

        #no-aspirations-message {
            color: #6b7280; /* gray-500 */
            text-align: center;
            display: block; /* Mặc định hiển thị, JS sẽ ẩn khi có nguyện vọng */
        }

        /* Đảm bảo select và input vừa với khối form-group */
        .form-group select,
        .form-group input[type="text"],
        .form-group textarea {
            width: 100%;
            box-sizing: border-box;
            font-size: 0.95rem;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            border: 1px solid #d1d5db;
            background: #fff;
            margin: 0;
            display: block;
        }

        /* Đảm bảo các select trong form sửa cũng vừa khối */
        .edit-form select,
        .edit-form input[type="text"],
        .edit-form textarea {
            width: 100%;
            box-sizing: border-box;
            font-size: 0.95rem;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            border: 1px solid #d1d5db;
            background: #fff;
            margin: 0;
            display: block;
        }

        /* Đảm bảo các nút trong form sửa không bị tràn */
        .edit-form button {
            min-width: 80px;
            margin-top: 8px;
        }

        /* Responsive cho khối aspiration-item */
        .aspiration-item {
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="main-title">Hồ Sơ Nguyện Vọng Ảo của Bạn</h1>

        <!-- Phần tạo nguyện vọng mới -->
        <div class="card">
            <h2 class="section-title">Tạo Nguyện Vọng Mới</h2>
            <form id="aspiration-form">
                <div class="form-group">
                    <label for="school" class="form-label">Chọn trường</label>
                    <select id="school" name="school" required>
                        <option value="">-- Chọn trường --</option>
                        <option value="Đại học Bách Khoa Hà Nội">Đại học Bách Khoa Hà Nội</option>
                        <option value="Đại học Quốc gia Hà Nội">Đại học Quốc gia Hà Nội</option>
                        <option value="Đại học Kinh tế Quốc dân">Đại học Kinh tế Quốc dân</option>
                        <option value="Đại học Y Hà Nội">Đại học Y Hà Nội</option>
                        <option value="Đại học Kiến trúc Hà Nội">Đại học Kiến trúc Hà Nội</option>
                        <option value="Đại học Ngoại ngữ">Đại học Ngoại ngữ</option>
                        <option value="Đại học Luật Hà Nội">Đại học Luật Hà Nội</option>
                        <!-- Thêm các trường khác nếu muốn -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="title" class="form-label">Chọn ngành</label>
                    <select id="title" name="title" required>
                        <option value="">-- Chọn ngành --</option>
                        <option value="Công nghệ thông tin">Công nghệ thông tin</option>
                        <option value="Kinh tế">Kinh tế</option>
                        <option value="Y dược">Y dược</option>
                        <option value="Kỹ thuật điện">Kỹ thuật điện</option>
                        <option value="Kiến trúc">Kiến trúc</option>
                        <option value="Ngôn ngữ Anh">Ngôn ngữ Anh</option>
                        <option value="Quản trị kinh doanh">Quản trị kinh doanh</option>
                        <option value="Luật">Luật</option>
                        <option value="Sư phạm">Sư phạm</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="score" class="form-label">Điểm xét tuyển</label>
                    <input type="number" id="score" name="score" min="0" max="30" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="subjectGroup" class="form-label">Tổ hợp môn thi</label>
                    <input type="text" id="subjectGroup" name="subjectGroup" placeholder="VD: A00, D01..." required>
                </div>

                <button type="submit" class="btn-primary">Tạo Nguyện Vọng</button>
            </form>
        </div>

        <!-- Phần hiển thị danh sách nguyện vọng -->
        <div class="card">
            <h2 class="section-title">Danh Sách Nguyện Vọng</h2>
            <div id="aspiration-list">
                <!-- Nguyện vọng sẽ được thêm vào đây bằng JavaScript -->
                <p id="no-aspirations-message">Chưa có nguyện vọng nào được thêm. Hãy thêm nguyện vọng đầu tiên của bạn!</p>
            </div>
        </div>
    </div>

    <script>
        // Lấy các phần tử DOM cần thiết
        const aspirationForm = document.getElementById('aspiration-form');
        const aspirationList = document.getElementById('aspiration-list');
        const noAspirationsMessage = document.getElementById('no-aspirations-message');

        // Mảng để lưu trữ các nguyện vọng
        let aspirations = [];

        // Hàm để hiển thị nguyện vọng
        function renderAspirations() {
            // Xóa nội dung hiện có
            aspirationList.innerHTML = '';

            if (aspirations.length === 0) {
                noAspirationsMessage.style.display = 'block'; // Hiển thị thông báo khi không có nguyện vọng
            } else {
                noAspirationsMessage.style.display = 'none'; // Ẩn thông báo khi có nguyện vọng
                aspirations.forEach((aspiration, index) => {
                    const aspirationCard = document.createElement('div');
                    aspirationCard.classList.add('aspiration-item'); // Sử dụng lớp CSS thuần

                    // Nếu đang chỉnh sửa nguyện vọng này
                    if (aspiration.isEditing) {
                        aspirationCard.innerHTML = `
                            <form class="edit-form" data-index="${index}">
                                <div class="form-group">
                                    <label class="form-label">Chọn trường</label>
                                    <select name="edit-school" required>
                                        <option value="">-- Chọn trường --</option>
                                        <option value="Đại học Bách Khoa Hà Nội" ${aspiration.school === 'Đại học Bách Khoa Hà Nội' ? 'selected' : ''}>Đại học Bách Khoa Hà Nội</option>
                                        <option value="Đại học Quốc gia Hà Nội" ${aspiration.school === 'Đại học Quốc gia Hà Nội' ? 'selected' : ''}>Đại học Quốc gia Hà Nội</option>
                                        <option value="Đại học Kinh tế Quốc dân" ${aspiration.school === 'Đại học Kinh tế Quốc dân' ? 'selected' : ''}>Đại học Kinh tế Quốc dân</option>
                                        <option value="Đại học Y Hà Nội" ${aspiration.school === 'Đại học Y Hà Nội' ? 'selected' : ''}>Đại học Y Hà Nội</option>
                                        <option value="Đại học Kiến trúc Hà Nội" ${aspiration.school === 'Đại học Kiến trúc Hà Nội' ? 'selected' : ''}>Đại học Kiến trúc Hà Nội</option>
                                        <option value="Đại học Ngoại ngữ" ${aspiration.school === 'Đại học Ngoại ngữ' ? 'selected' : ''}>Đại học Ngoại ngữ</option>
                                        <option value="Đại học Luật Hà Nội" ${aspiration.school === 'Đại học Luật Hà Nội' ? 'selected' : ''}>Đại học Luật Hà Nội</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Chọn ngành</label>
                                    <select name="edit-title" required>
                                        <option value="">-- Chọn ngành --</option>
                                        <option value="Công nghệ thông tin" ${aspiration.title === 'Công nghệ thông tin' ? 'selected' : ''}>Công nghệ thông tin</option>
                                        <option value="Kinh tế" ${aspiration.title === 'Kinh tế' ? 'selected' : ''}>Kinh tế</option>
                                        <option value="Y dược" ${aspiration.title === 'Y dược' ? 'selected' : ''}>Y dược</option>
                                        <option value="Kỹ thuật điện" ${aspiration.title === 'Kỹ thuật điện' ? 'selected' : ''}>Kỹ thuật điện</option>
                                        <option value="Kiến trúc" ${aspiration.title === 'Kiến trúc' ? 'selected' : ''}>Kiến trúc</option>
                                        <option value="Ngôn ngữ Anh" ${aspiration.title === 'Ngôn ngữ Anh' ? 'selected' : ''}>Ngôn ngữ Anh</option>
                                        <option value="Quản trị kinh doanh" ${aspiration.title === 'Quản trị kinh doanh' ? 'selected' : ''}>Quản trị kinh doanh</option>
                                        <option value="Luật" ${aspiration.title === 'Luật' ? 'selected' : ''}>Luật</option>
                                        <option value="Sư phạm" ${aspiration.title === 'Sư phạm' ? 'selected' : ''}>Sư phạm</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Điểm xét tuyển</label>
                                    <input type="number" name="edit-score" min="0" max="30" step="0.01" value="${aspiration.score || ''}" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tổ hợp môn thi</label>
                                    <input type="text" name="edit-subjectGroup" value="${aspiration.subjectGroup || ''}" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Danh mục</label>
                                    <input type="text" name="edit-category" value="${aspiration.category || ''}">
                                </div>
                                <button type="submit" class="btn-primary" style="width:auto;margin-right:8px;">Lưu</button>
                                <button type="button" class="btn-delete btn-cancel-edit" data-index="${index}">Hủy</button>
                            </form>
                        `;
                    } else {
                        aspirationCard.innerHTML = `
                            <div class="aspiration-content">
                                <h3 class="aspiration-title">${aspiration.title}</h3>
                                <p class="aspiration-description">Điểm xét tuyển: <b>${aspiration.score || ''}</b></p>
                                <p class="aspiration-description">Tổ hợp môn thi: <b>${aspiration.subjectGroup || ''}</b></p>
                                ${aspiration.school ? `<p class="aspiration-category">Trường: <span>${aspiration.school}</span></p>` : ''}
                                ${aspiration.category ? `<p class="aspiration-category">Danh mục: <span>${aspiration.category}</span></p>` : ''}
                            </div>
                            <div>
                                <button class="btn-primary btn-edit" data-index="${index}" style="width:auto;margin-right:8px;">Sửa</button>
                                <button class="btn-delete" data-index="${index}">Xóa</button>
                            </div>
                        `;
                    }
                    aspirationList.appendChild(aspirationCard);
                });
            }
        }

        // Hàm xử lý khi gửi biểu mẫu
        aspirationForm.addEventListener('submit', (event) => {
            event.preventDefault(); // Ngăn chặn tải lại trang

            const school = document.getElementById('school').value;
            const title = document.getElementById('title').value;
            const score = document.getElementById('score').value;
            const subjectGroup = document.getElementById('subjectGroup').value;
            const category = document.getElementById('category').value;

            const newAspiration = {
                school,
                title,
                score,
                subjectGroup,
                category
            };

            aspirations.push(newAspiration); // Thêm nguyện vọng mới vào mảng
            renderAspirations(); // Cập nhật hiển thị

            // Xóa nội dung biểu mẫu
            aspirationForm.reset();
        });

        // Hàm xử lý khi nhấp vào nút xóa hoặc sửa
        aspirationList.addEventListener('click', (event) => {
            // Xóa nguyện vọng
            if (event.target.classList.contains('btn-delete') && !event.target.classList.contains('btn-cancel-edit')) {
                const indexToDelete = parseInt(event.target.dataset.index);
                aspirations.splice(indexToDelete, 1); // Xóa nguyện vọng khỏi mảng
                renderAspirations(); // Cập nhật hiển thị
            }
            // Sửa nguyện vọng
            if (event.target.classList.contains('btn-edit')) {
                const indexToEdit = parseInt(event.target.dataset.index);
                aspirations = aspirations.map((a, i) => ({
                    ...a,
                    isEditing: i === indexToEdit
                }));
                renderAspirations();
            }
            // Hủy sửa
            if (event.target.classList.contains('btn-cancel-edit')) {
                aspirations = aspirations.map(a => ({ ...a, isEditing: false }));
                renderAspirations();
            }
        });

        // Xử lý lưu chỉnh sửa nguyện vọng
        aspirationList.addEventListener('submit', (event) => {
            if (event.target.classList.contains('edit-form')) {
                event.preventDefault();
                const index = parseInt(event.target.dataset.index);
                const school = event.target['edit-school'].value;
                const title = event.target['edit-title'].value;
                const score = event.target['edit-score'].value;
                const subjectGroup = event.target['edit-subjectGroup'].value;
                const category = event.target['edit-category'].value;
                aspirations[index] = { school, title, score, subjectGroup, category };
                renderAspirations();
            }
        });

        // Hiển thị nguyện vọng khi trang tải lần đầu
        renderAspirations();
    </script>
</body>
</html>
